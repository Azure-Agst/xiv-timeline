{"version":3,"file":"bundle.js","sources":["../src/consts.js","../src/dom.js","../src/utils.js","../src/state.js","../src/ui/mouse.js","../src/xivdata/index.js","../src/saving.js","../src/ui/buttons.js","../src/ui/header.js","../src/canvas/CanvBkg.js","../src/canvas/CanvRuler.js","../src/canvas/CanvTmlnEntry.js","../src/canvas/CanvTimeline.js","../src/canvas/CanvTooltip.js","../src/index.js"],"sourcesContent":["export const colors = {\n  bkg: \"#f0f0f0\",\n  ppBkg: \"#00000010\",\n  ruler: \"#8d8d8d\",\n  ticks: \"#242424\",\n  movebar: \"#242424\",\n  cast: \"#f2433a44\",\n  recast: \"#3af2e944\",\n};\n\nexport const pxPerSec = 50;\nexport const prePullSec = 4;\nexport const dpr = window.devicePixelRatio;\n","export const canvas = document.getElementById(\"canvas\");\nexport const wrapper = document.getElementById(\"wrapper\");\nexport const classList = document.getElementById(\"classList\");\nexport const btn_div = document.getElementById(\"icon-buttons\");\nexport const level = document.getElementById(\"level\");\nexport const ctx = canvas.getContext(\"2d\");\n","import { pxPerSec, prePullSec } from \"./consts.js\";\nimport { scale, width, setWidth, height } from \"./state.js\";\nimport { wrapper, canvas } from \"./dom.js\";\n\nexport const secToAbsPx = (sec) => (sec + prePullSec) * pxPerSec * scale;\nexport const secToRelPx = (sec) => sec * pxPerSec * scale;\nexport const absPxToSec = (px) => px / pxPerSec / scale - prePullSec;\nexport const relPxToSec = (px) => px / pxPerSec / scale;\n\nexport const resizeCanvas = (tl) => {\n  // height\n  canvas.height = height;\n\n  // width\n  var w = Math.max(tl.maxWidth(), wrapper.clientWidth);\n  canvas.width = w;\n  setWidth(w);\n};\n","import { dpr, prePullSec } from \"./consts\";\nimport { absPxToSec } from \"./utils\";\n\n// window state\nexport var selectedClass = \"none\";\nexport const setSelectedClass = (v) => (selectedClass = v);\nexport var playerLevel = 90;\nexport const setPlayerLevel = (v) =>\n  (playerLevel = Math.max(1, Math.min(v, 90)));\n\n// canvas state\nexport var height = window.innerHeight * dpr;\nexport const setHeight = (v) => (height = v);\nexport var width = window.innerWidth * dpr;\nexport const setWidth = (v) => (width = v);\n\n// timeline state\nexport var tlCursor = 0;\nexport const setTlCursor = (v) =>\n  (tlCursor = Math.max(-prePullSec, Math.min(v, absPxToSec(width))));\nexport var scale = 1;\nexport const setScale = (v) => (scale = Math.max(0.25, Math.min(v, 4)));\nexport var hoveredItem = undefined;\nexport const setHoveredItem = (v) => (hoveredItem = v);\n\n// hover state\nexport var mouseX = 0;\nexport const setMouseX = (v) => (mouseX = v);\nexport var mouseY = 0;\nexport const setMouseY = (v) => (mouseY = v);\n","import { mouseX, setMouseX, mouseY, setMouseY } from \"../state\";\n\nfunction mouse_callback(e) {\n  setMouseX(e.offsetX);\n  setMouseY(e.offsetY);\n  //console.log(mouseX, mouseY);\n}\n\nexport function register_mouse_events(canvas) {\n  canvas.addEventListener(\"mousemove\", mouse_callback);\n}\n","import rpr_m from \"./reaper.json\";\nimport war_m from \"./warrior.json\";\n\nexport const classMap = {\n  rpr: {\n    name: \"Reaper\",\n    actions: [\n      32561, 32562, 24378, 32940, 29550, 27818, 31789, 32563, 24379, 31793,\n      31790, 27810, 29547, 31145, 31386, 32564, 32565, 34786, 27811, 27812,\n      24405, 29551, 27814, 27821, 32567, 32568, 32569, 24387, 31381, 29548,\n      27816, 29546, 32570, 21306, 7863, 33013, 28324, 28322, 7546,\n    ],\n  },\n  war: {\n    name: \"Warrior\",\n    actions: [\n      30916, 30917, 34155, 29173, 29293, 32066, 30895, 29768, 29297, 9460,\n      29296, 18904, 29298, 18905, 30918, 17698, 29078, 3551, 3552, 17695, 29079,\n      22785, 17699, 8768, 29736, 17889, 17696, 29082, 29080, 29084, 30911,\n      17669, 26829, 25084, 28323, 28322, 17426,\n    ],\n  },\n};\n\nexport const moveDb = {\n  ...rpr_m,\n  ...war_m,\n};\n","import { setSelectedClass } from \"./state.js\";\nimport { moveDb } from \"./xivdata/index.js\";\nimport { classList } from \"./dom.js\";\nimport { prePullSec } from \"./consts.js\";\n\n// Originally I was encoding JSON directly, but the URL params ballooned in\n// size so I instead spent however many hours designing an over-enginneered\n// solution using Uint16Array and a custom Base64 impl. Much smaller now! :)\n\n// Based off of https://github.com/beatgammit/base64-js/blob/master/index.js\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nvar code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n\nfunction fromByteArray(u8arr) {\n  var lookup = [];\n  var len = u8arr.length;\n  var extraBytes = len % 3;\n  var parts = [];\n\n  // prep lookup\n  for (var i = 0, l = code.length; i < l; ++i) {\n    lookup[i] = code[i];\n  }\n\n  // iterate over most of chunks\n  console.log(\"m:\", len - extraBytes);\n  for (var i = 0; i < len - extraBytes; i += 3) {\n    var tri =\n      ((u8arr[i] << 16) & 0xff0000) +\n      ((u8arr[i + 1] << 8) & 0xff00) +\n      (u8arr[i + 2] & 0xff);\n    parts.push(\n      lookup[(tri >> 18) & 0x3f] +\n        lookup[(tri >> 12) & 0x3f] +\n        lookup[(tri >> 6) & 0x3f] +\n        lookup[tri & 0x3f]\n    );\n  }\n\n  // handle remainder\n  var tmp;\n  if (extraBytes === 1) {\n    tmp = u8arr[len - 1];\n    parts.push(lookup[tmp >> 2] + lookup[(tmp << 4) & 0x3f] + \"==\");\n  } else if (extraBytes === 2) {\n    tmp = (u8arr[len - 2] << 8) + u8arr[len - 1];\n    parts.push(\n      lookup[tmp >> 10] +\n        lookup[(tmp >> 4) & 0x3f] +\n        lookup[(tmp << 2) & 0x3f] +\n        \"=\"\n    );\n  }\n\n  return parts.join(\"\");\n}\n\nexport function toByteArray(str) {\n  var revLookup = {};\n  var tmp;\n\n  // Prep reverse lookup\n  for (var i = 0, l = code.length; i < l; ++i) {\n    revLookup[code.charCodeAt(i)] = i;\n  }\n\n  // Calculate lengths\n  var validLen = str.indexOf(\"=\");\n  if (validLen === -1) validLen = str.length;\n  var plLen = validLen === str.length ? 0 : 4 - (validLen % 4);\n\n  // Allocate array\n  var dataLen = ((validLen + plLen) * 3) / 4 - plLen;\n  var dataArr = new Uint8Array(dataLen);\n\n  // Process data in groups of 4 chars\n  var tmp;\n  var curByte = 0;\n  var tlen = plLen > 0 ? validLen - 4 : validLen;\n  for (var i = 0; i < tlen; i += 4) {\n    tmp =\n      (revLookup[str.charCodeAt(i)] << 18) |\n      (revLookup[str.charCodeAt(i + 1)] << 12) |\n      (revLookup[str.charCodeAt(i + 2)] << 6) |\n      revLookup[str.charCodeAt(i + 3)];\n    dataArr[curByte++] = (tmp >> 16) & 0xff;\n    dataArr[curByte++] = (tmp >> 8) & 0xff;\n    dataArr[curByte++] = tmp & 0xff;\n  }\n\n  // handle remainder\n  if (plLen === 2) {\n    tmp =\n      (revLookup[str.charCodeAt(i)] << 2) |\n      (revLookup[str.charCodeAt(i + 1)] >> 4);\n    dataArr[curByte++] = tmp & 0xff;\n  } else if (plLen === 1) {\n    tmp =\n      (revLookup[str.charCodeAt(i)] << 10) |\n      (revLookup[str.charCodeAt(i + 1)] << 4) |\n      (revLookup[str.charCodeAt(i + 2)] >> 2);\n    dataArr[curByte++] = (tmp >> 8) & 0xff;\n    dataArr[curByte++] = tmp & 0xff;\n  }\n\n  return dataArr;\n}\n\nexport function exportTimeline(tl) {\n  console.warn(\"weeeee\");\n\n  // reserve our int array\n  // two uint16's needed per item; one for ID, one for start time\n  var arrLen = tl.moves.length * 2;\n  var i16arr = new Uint16Array(arrLen);\n\n  // iterate over moves and add them to array\n  for (var i = 0; i < tl.moves.length; i++) {\n    var item = tl.moves[i];\n    console.log(item);\n    i16arr[i * 2] = parseInt(item.move);\n    i16arr[i * 2 + 1] = Math.round((item.start + prePullSec) * 10); // in 100ms increments\n  }\n  console.log(i16arr);\n\n  // resize to u8 for encoding\n  var u8arr = new Uint8Array(i16arr.buffer);\n  var encoded = fromByteArray(u8arr);\n\n  // let user know\n  alert(window.location.origin + \"/?tl=\" + encoded);\n}\n\nexport function importTimeline(tl, encoded) {\n  if (encoded.length == 0) return;\n\n  try {\n    // decode from base64\n    var u8arr = toByteArray(encoded);\n\n    // size up to i16 array\n    var i16arr = new Uint16Array(u8arr.buffer);\n    console.log(i16arr);\n  } catch (e) {\n    alert(\"Failed to decode data!\");\n    throw e;\n  }\n\n  // get class from first item and set\n  var firstId = i16arr[0];\n  var firstMove = moveDb[firstId];\n  if (classList) {\n    classList.value = firstMove.class;\n    setSelectedClass(firstMove.class);\n  }\n\n  // import items\n  for (var i = 0; i < i16arr.length; i += 2) {\n    var uIntId = i16arr[i];\n    var uIntStart = i16arr[i + 1] / 10; // from ms to sec\n    uIntStart -= prePullSec; // subtract prepull sec\n    tl.append(uIntId, uIntStart);\n  }\n}\n","export function initButtons(tl) {\n  // This is just gonna be a long-ass functional bit, sorry\n\n  var container = document.getElementById(\"ctrl-buttons\");\n  if (!container) {\n    console.warn(\"No button control div found!\");\n    return;\n  }\n\n  // Zoom out\n  let zoomOutBtn = document.createElement(\"button\");\n  container.appendChild(zoomOutBtn);\n  zoomOutBtn.textContent = \"0.5x\";\n  zoomOutBtn.addEventListener(\"click\", () => tl.zoomOut());\n\n  // Zoom in\n  let zoomInBtn = document.createElement(\"button\");\n  zoomInBtn.textContent = \"2x\";\n  zoomInBtn.addEventListener(\"click\", () => tl.zoomIn());\n  container.appendChild(zoomInBtn);\n\n  // Spacer\n  container.insertAdjacentHTML(\"beforeend\", \" | \");\n\n  // Back\n  let bigBackBtn = document.createElement(\"button\");\n  bigBackBtn.textContent = \"-2.5s\";\n  bigBackBtn.addEventListener(\"click\", () => tl.rewind(2.5));\n  container.appendChild(bigBackBtn);\n  let midBackBtn = document.createElement(\"button\");\n  midBackBtn.textContent = \"-1s\";\n  midBackBtn.addEventListener(\"click\", () => tl.rewind(1));\n  container.appendChild(midBackBtn);\n  let smBackBtn = document.createElement(\"button\");\n  smBackBtn.textContent = \"-0.1s\";\n  smBackBtn.addEventListener(\"click\", () => tl.rewind(0.1));\n  container.appendChild(smBackBtn);\n\n  // Spacer\n  container.insertAdjacentHTML(\"beforeend\", \" \");\n\n  // Forward\n  let smFwdBtn = document.createElement(\"button\");\n  smFwdBtn.textContent = \"+0.1s\";\n  smFwdBtn.addEventListener(\"click\", () => tl.seek(0.1));\n  container.appendChild(smFwdBtn);\n  let midFwdBtn = document.createElement(\"button\");\n  midFwdBtn.textContent = \"+1s\";\n  midFwdBtn.addEventListener(\"click\", () => tl.seek(1));\n  container.appendChild(midFwdBtn);\n  let bigFwdBtn = document.createElement(\"button\");\n  bigFwdBtn.textContent = \"+2.5s\";\n  bigFwdBtn.addEventListener(\"click\", () => tl.seek(2.5));\n  container.appendChild(bigFwdBtn);\n\n  // Spacer\n  container.insertAdjacentHTML(\"beforeend\", \" | \");\n\n  // Reset\n  let resetBtn = document.createElement(\"button\");\n  resetBtn.textContent = \"Reset\";\n  resetBtn.addEventListener(\"click\", () => tl.clear());\n  container.appendChild(resetBtn);\n\n  // Pop\n  let popBtn = document.createElement(\"button\");\n  popBtn.textContent = \"Pop\";\n  popBtn.addEventListener(\"click\", () => tl.pop());\n  container.appendChild(popBtn);\n\n  // Pop\n  let eBtn = document.createElement(\"button\");\n  eBtn.textContent = \"Export\";\n  eBtn.addEventListener(\"click\", () => tl.export());\n  container.appendChild(eBtn);\n}\n","import { classList, level } from \"../dom\";\nimport { classMap } from \"../xivdata\";\nimport { btn_div } from \"../dom\";\nimport { moveDb } from \"../xivdata\";\nimport {\n  selectedClass,\n  setSelectedClass,\n  playerLevel,\n  setPlayerLevel,\n} from \"../state\";\n\nexport function init_header(tl) {\n  // add children\n  for (var [k, v] of Object.entries(classMap)) {\n    var opt = document.createElement(\"option\");\n    opt.value = k;\n    opt.innerHTML = v[\"name\"];\n    classList.appendChild(opt);\n  }\n\n  // todo change this:\n  classList.value = selectedClass;\n  level.value = playerLevel;\n  init_icon_buttons(tl);\n\n  // remember this\n  var oldClass = classList.value;\n\n  // register event listeners\n  classList.addEventListener(\"change\", (e) => {\n    var res = confirm(\n      \"WARNING!\\nChanging your class will reset the timeline! Is this ok?\"\n    );\n    if (!res) {\n      classList.value = oldClass;\n      return;\n    } else {\n      tl.clear();\n      oldClass = classList.value;\n      setSelectedClass(classList.value);\n      init_icon_buttons(tl);\n    }\n  });\n  level.addEventListener(\"change\", (e) => {\n    setPlayerLevel(level.value);\n    init_icon_buttons(tl);\n  });\n}\n\nfunction init_icon_buttons(tl) {\n  // reset div\n  btn_div.innerHTML = \"\";\n\n  // Only do it when class is selected\n  if (selectedClass == \"none\") return;\n  console.log(selectedClass);\n\n  // iterate over classlist move ids\n  var classData = classMap[selectedClass];\n  for (var actionId of classData.actions) {\n    // lookup data\n    var action = moveDb[actionId];\n\n    // only if high enough level...\n    if (action.level > playerLevel) continue;\n\n    // make image\n    var icon = new Image();\n    icon.src = action.icon;\n    icon.id = actionId;\n    icon.classList.add(\"button\");\n\n    // define listener\n    icon.addEventListener(\"click\", function () {\n      tl.append(this.id);\n    });\n\n    // append\n    btn_div.appendChild(icon);\n  }\n}\n","import { colors, prePullSec } from \"../consts.js\";\nimport { secToRelPx } from \"../utils.js\";\nimport { width } from \"../state.js\";\n\nexport class CanvBkg {\n  constructor(ctx, x, y, h) {\n    this.ctx = ctx;\n    this.x = x;\n    this.y = y;\n    this.h = h;\n  }\n\n  draw() {\n    // simple fill\n    this.ctx.fillStyle = colors[\"bkg\"];\n    this.ctx.fillRect(this.x, this.y, width, this.h);\n\n    // fill pre-pull\n    this.ctx.fillStyle = colors[\"ppBkg\"];\n    this.ctx.fillRect(this.x, this.y, secToRelPx(prePullSec), this.h);\n  }\n}\n","import { colors, prePullSec, pxPerSec } from \"../consts.js\";\nimport { secToAbsPx } from \"../utils.js\";\nimport { width, scale } from \"../state.js\";\n\nexport class CanvRuler {\n  constructor(ctx, x, y, h) {\n    this.ctx = ctx;\n    this.x = x;\n    this.y = y;\n    this.h = h;\n  }\n\n  draw() {\n    // fill top\n    this.ctx.fillStyle = colors[\"ruler\"];\n    this.ctx.fillRect(0, 0, width, this.h);\n\n    //add tick marks\n    this.ctx.beginPath();\n    this.ctx.strokeStyle = colors[\"ticks\"];\n    this.ctx.font = \"13px monospace\";\n    this.ctx.textAlign = \"center\";\n    this.ctx.fillStyle = colors[\"ticks\"];\n    for (var sec = -prePullSec; sec < width / pxPerSec / scale; sec += 1) {\n      var x_p = secToAbsPx(sec);\n      this.ctx.moveTo(x_p, 0);\n      this.ctx.lineTo(x_p, 6);\n      if (sec >= 0 && sec % 5 == 0) {\n        this.ctx.fillText(sec, x_p, 23);\n      }\n    }\n    this.ctx.stroke();\n  }\n}\n","import { colors, prePullSec, pxPerSec } from \"../consts.js\";\nimport { secToAbsPx, secToRelPx } from \"../utils.js\";\nimport { setHoveredItem, mouseX, mouseY, width, tlCursor } from \"../state.js\";\nimport { moveDb } from \"../xivdata/index.js\";\n\nvar _entryCounter = 0;\nexport class CanvTmlnEntry {\n  constructor(tl, move, start) {\n    this.tl = tl;\n    this.id = _entryCounter++;\n    this.move = move;\n    this.start = start;\n    this.dbData = moveDb[move];\n    this.img = null;\n  }\n\n  drawBars() {\n    if (this.dbData.type === \"Weaponskill\" || this.dbData.type === \"Spell\") {\n      // draw cast bar\n      this.tl.ctx.fillStyle = colors.cast;\n      this.tl.ctx.fillRect(\n        secToAbsPx(this.start),\n        this.tl.y + 8 + 50,\n        secToRelPx(this.dbData.cast),\n        18\n      );\n      // draw recast bar\n      this.tl.ctx.fillStyle = colors.recast;\n      this.tl.ctx.fillRect(\n        secToAbsPx(this.start),\n        this.tl.y + 26 + 50,\n        secToRelPx(this.dbData.recast),\n        18\n      );\n    }\n  }\n\n  drawIcon() {\n    // determine x and y offsets\n    var x_offset = secToAbsPx(this.start) - 20;\n    if (this.dbData.type === \"Weaponskill\" || this.dbData.type === \"Spell\") {\n      var y_offset = this.tl.y + 5 + 50;\n    } else if (this.dbData.type === \"Ability\") {\n      var y_offset = this.tl.y + 5;\n    }\n\n    // define draw function\n    // done this way to handle img loading\n    const iconSize = 40;\n    var _drawIcon = () => {\n      this.tl.ctx.drawImage(this.img, x_offset, y_offset, iconSize, iconSize);\n    };\n\n    // add image\n    if (this.img == null) {\n      this.img = new Image();\n      this.img.src = this.dbData.icon;\n      this.img.onload = () => _drawIcon();\n    } else {\n      _drawIcon();\n    }\n\n    // while we're here, check for hovered\n    if (\n      x_offset < mouseX &&\n      mouseX < x_offset + iconSize &&\n      y_offset < mouseY &&\n      mouseY < y_offset + iconSize\n    ) {\n      setHoveredItem(this.move);\n    }\n  }\n}\n","import { secToAbsPx } from \"../utils.js\";\nimport { CanvTmlnEntry } from \"./CanvTmlnEntry.js\";\nimport { exportTimeline } from \"../saving.js\";\nimport {\n  width,\n  setWidth,\n  height,\n  scale,\n  setScale,\n  tlCursor,\n  setTlCursor,\n} from \"../state.js\";\n\nexport class CanvTimeline {\n  constructor(ctx, x, y, h) {\n    this.ctx = ctx;\n    this.x = x;\n    this.y = y;\n    this.h = h;\n    this.ctx = ctx;\n    this.moves = [];\n  }\n\n  zoomIn() {\n    setScale(scale * 2);\n  }\n\n  zoomOut() {\n    setScale(scale / 2);\n  }\n\n  seek(i = 1) {\n    setTlCursor(tlCursor + i);\n    var autoscroll = secToAbsPx(tlCursor) - wrapper.offsetWidth / 2;\n    if (autoscroll > 0) wrapper.scrollLeft = autoscroll;\n  }\n\n  rewind(i = 1) {\n    setTlCursor(tlCursor - i);\n    var autoscroll = secToAbsPx(tlCursor) - wrapper.offsetWidth / 2;\n    if (autoscroll < width) wrapper.scrollLeft = autoscroll;\n  }\n\n  draw() {\n    // first pass, draw bars\n    for (var i = 0; i < this.moves.length; i++) {\n      this.moves[i].drawBars();\n    }\n\n    // second pass, draw icons\n    for (var i = 0; i < this.moves.length; i++) {\n      this.moves[i].drawIcon();\n    }\n\n    // draw cursor\n    this.ctx.strokeStyle = \"#00000080\";\n    this.ctx.beginPath();\n    this.ctx.moveTo(secToAbsPx(tlCursor), 30);\n    this.ctx.lineTo(secToAbsPx(tlCursor), height);\n    this.ctx.stroke();\n  }\n\n  append(move, start) {\n    // handle undef start\n    if (!start) start = tlCursor;\n\n    // make entry\n    var entry = new CanvTmlnEntry(this, move, start);\n    this.moves.push(entry);\n\n    // handle the undefined call\n    if (start == undefined) {\n      var last = this.moves.slice(-1)[0];\n      start = last.start;\n      if (last.type != \"Ability\") start += last.recast;\n    }\n  }\n\n  maxWidth() {\n    var lastMove = this.moves[this.moves.length - 1];\n    if (!lastMove) return 0;\n    if (lastMove.dbData.type == \"Ability\") {\n      lastMove = this.moves[this.moves.length - 2];\n      if (!lastMove) return 0;\n    }\n    //console.log(lastMove);\n    return secToAbsPx(\n      lastMove.start +\n        Math.max(lastMove.dbData.cast, lastMove.dbData.recast) +\n        3\n    );\n  }\n\n  pop() {\n    this.moves.pop();\n  }\n\n  clear() {\n    while (this.moves.length != 0) {\n      this.pop();\n    }\n  }\n\n  export() {\n    exportTimeline(this);\n  }\n\n  remove(entry) {\n    for (var i = 0; i < this.moves.length; i++) {\n      if (this.moves[i].id == entry.id) {\n        this.moves.splice(i, 1);\n        return;\n      }\n    }\n    console.error(\"Not found!\", entry);\n  }\n}\n","import { pxPerSec } from \"../consts\";\nimport { hoveredItem, mouseX, mouseY } from \"../state\";\nimport { moveDb } from \"../xivdata\";\n\nexport class CanvTooltip {\n  constructor(ctx) {\n    this.ctx = ctx;\n  }\n\n  draw() {\n    // Don't draw if not hovered\n    if (!hoveredItem) return;\n\n    // Get move data\n    var move = moveDb[hoveredItem];\n\n    // Format text strings\n    var lines = [move.name, \"Recast: \" + move.recast + \"s\"];\n    var mLineWidth = -1;\n    var mLineHeight = 12 * lines.length;\n    lines.forEach((l) => {\n      mLineWidth = Math.max(mLineWidth, this.ctx.measureText(l).width);\n    });\n\n    // Calculate formatting\n    const vSpacing = 4;\n    const hPadding = 8;\n    const vPadding = 4;\n    const hTotal = mLineWidth + hPadding * 2;\n    const vTotal = mLineHeight + vPadding * 2;\n\n    // Draw a box\n    this.ctx.fillStyle = \"#ffffff\";\n    this.ctx.strokeStyle = \"#000000\";\n    this.ctx.lineWidth = 1;\n    this.ctx.fillRect(\n      mouseX - hTotal / 2,\n      mouseY - vTotal - vSpacing,\n      mLineWidth + hPadding * 2,\n      mLineHeight + vPadding * 2\n    );\n    this.ctx.strokeRect(\n      mouseX - hTotal / 2,\n      mouseY - vTotal - vSpacing,\n      mLineWidth + hPadding * 2,\n      mLineHeight + vPadding * 2\n    );\n\n    // Add text\n    this.ctx.font = \"12px monospace\";\n    this.ctx.textBaseline = \"top\";\n    this.ctx.textAlign = \"center\";\n    this.ctx.fillStyle = \"#000000\";\n    for (var i = 0; i < lines.length; i++) {\n      this.ctx.fillText(lines[i], mouseX, mouseY - vTotal + i * 12);\n    }\n  }\n}\n","import { register_mouse_events } from \"./ui/mouse.js\";\nimport { height, setHeight, setHoveredItem } from \"./state.js\";\nimport { importTimeline } from \"./saving.js\";\nimport { initButtons } from \"./ui/buttons.js\";\nimport { moveDb } from \"./xivdata/index.js\";\nimport { resizeCanvas } from \"./utils.js\";\nimport { ctx, wrapper } from \"./dom.js\";\nimport { dpr } from \"./consts.js\";\nimport { init_header } from \"./ui/header.js\";\nimport { classList, btn_div } from \"./dom.js\";\nimport {\n  CanvBkg,\n  CanvRuler,\n  CanvTimeline,\n  CanvTooltip,\n} from \"./canvas/index.js\";\n\n// TODO: make this dynamic?\nsetHeight(160);\nconsole.log(moveDb);\n\n// init layers\nvar l_bkg = new CanvBkg(ctx, 0, 0, height);\nvar l_ruler = new CanvRuler(ctx, 0, 0, 30);\nvar l_timeline = new CanvTimeline(ctx, 0, 30, 30);\nvar l_tip = new CanvTooltip(ctx);\n\n// check if we have tl query arg\nconst urlParams = new URLSearchParams(window.location.search);\nconst importData = urlParams.get(\"tl\");\nif (importData) {\n  importTimeline(l_timeline, importData);\n}\n\n// init interativity events\nif (classList) init_header(l_timeline);\nif (btn_div) initButtons(l_timeline);\nregister_mouse_events(ctx.canvas);\n\n// main draw function\nexport const draw = () => {\n  // resize canvas and width\n  resizeCanvas(l_timeline);\n\n  // reset hovered item\n  setHoveredItem(undefined);\n\n  // ensure scaling\n  ctx.scale(dpr, dpr);\n\n  // draw main stuff\n  l_bkg.draw();\n  l_ruler.draw();\n  l_timeline.draw();\n  l_tip.draw();\n\n  // rescale\n  ctx.scale(1 / dpr, 1 / dpr);\n\n  // register draw as repaint function\n  window.requestAnimationFrame(draw);\n};\n\n// reset position and first draw\nwrapper.scrollLeft = 0;\nwindow.requestAnimationFrame(draw);\n"],"names":["wrapper"],"mappings":"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"}